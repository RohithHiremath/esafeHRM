{% extends 'login/base.html' %}
{% load static %}
{% block content  %}
<style>
    .card {
        border: 1px solid #6c757d40 !important;
        border-radius: .25rem;
    }

    .card-local {
        padding: 1.25em !important;
    }

    .card-footer {
    padding: 0.5rem 1.25rem;
    background-color: rgba(0,0,0,.03);
    border-top: 1px solid rgba(0,0,0,.125);
}

    .chart-container {
        position: relative;
        margin: auto;
        height: 80vh;
        width: 80vw;
    }
</style>
<script src="{% static 'js/chart.js' %}"></script>
<div class="row">
    <div class="col-sm-3" style="padding-bottom:25px;">
        <div class="card text-white bg-primary">
            <div class="card-body card-local">
                <div class="mr-5">{{ requestcount }} Leave Requests</div>
            </div>
            <a class="card-footer text-white clearfix" href="{% url 'leaves:leaverequested' %}">
                <span class="float-left"> View Details </span>
                <span class="float-right"> <i class="fa fa-angle-right" aria-hidden="true"></i> </span>
            </a>
        </div>
    </div>
    <div class="col-sm-3" style="padding-bottom:25px;">
        <div class="card  text-white bg-info">
            <div class="card-body card-local">
                <div class="mr-5"> 26 Leave Requests</div>
            </div>
            <a class="card-footer text-white clearfix" href="#">
                <span class="float-left"> View Details </span>
                <span class="float-right"> <i class="fa fa-angle-right" aria-hidden="true"></i> </span>
            </a>
        </div>
    </div>
    <div class="col-sm-3" style="padding-bottom:25px;">
        <div class="card  text-white bg-success">
            <div class="card-body card-local">
                <div class="mr-5"> 26 Leave Requests</div>
            </div>
            <a class="card-footer text-white clearfix" href="#">
                <span class="float-left"> View Details </span>
                <span class="float-right"> <i class="fa fa-angle-right" aria-hidden="true"></i> </span>
            </a>
        </div>
    </div>
    <div class="col-sm-3" style="padding-bottom:25px;">
        <div class="card  text-white bg-danger">
            <div class="card-body card-local">
                <div class="mr-5"> 26 Leave Requests</div>
            </div>
            <a class="card-footer text-white clearfix" href="#">
                <span class="float-left"> View Details </span>
                <span class="float-right"> <i class="fa fa-angle-right" aria-hidden="true"></i> </span>
            </a>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-6" style="padding-bottom:20px;">
        <div class="card">
            <div class="card-body" class="">
                <canvas id="piech"></canvas>
            </div>
        </div>
    </div>
    <div class="col-sm-6">

        <div class="card">
            <div class="card-body">
                <canvas id="barcht"></canvas>
            </div>
        </div>
    </div>
</div>
<script>
    var piechctx = document.getElementById('piech');
    var chart = new Chart(piechctx, {
        // The type of chart we want to create
        type: 'pie',
        // The data for our dataset
        data: {
            labels: ['Finance and Accounting', 'Management', 'Technical'],
            datasets: [{
                data: [10, 10, 50],
                backgroundColor: [
                    'red',
                    'yellow',
                    'orange',
                    'purple',
                    'blue',
                    'green'
                ],
                borderColor: [
                    'white',
                    'white',
                    'white',
                    'white',
                    'white',
                    'white'
                ],
                borderWidth: 1
            }],
        },


        // Configuration options go here
        options: {
            legend: {
                display: true,
                position: 'bottom'
            },
            title: {
                display: true,
                text: 'Employee Distribution by Department'
            },
        }
    });

    var barchtctx = document.getElementById('barcht');
    var chart = new Chart(barchtctx, {
        // The type of chart we want to create
        type: 'bar',
        // The data for our dataset
        data: {
            labels: ['Finance and Accounting', 'Management', 'Technical'],
            datasets: [{
                data: [10, 20, 30],
                backgroundColor: [
                    'red',
                    'yellow',
                    'orange',
                    'purple',
                    'blue',
                    'green'
                ],
                borderColor: [
                    'red',
                    'yellow',
                    'orange',
                    'purple',
                    'blue',
                    'green'
                ],
                borderWidth: 1
            }],
        },
        // Configuration options go here
        options: {
            scales: {
                xAxes: [{
                    stacked: true,
                }],
                yAxes: [{
                    stacked: true
                }]
            },
            legend: {
                display: false,
            },
            title: {
                display: true,
                text: 'Leave Taken by Departments in this Year',
            }
        }
    });
</script>
{% endblock%}