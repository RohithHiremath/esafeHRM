{% extends 'login/base.html' %}
{% block content %}

<div class="card" style="margin-top: 10px;" id="perdetails">
  <div class="card-header">
    <h5 class="card-title" id="editjobtitleLabel">Organisation Structure </h5>
  </div>
  <div class="card-body">
    <div id="chart_div"></div>
  </div>
</div>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', { packages: ["orgchart"] });
    google.charts.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Name');
      data.addColumn('string', 'Manager');
      data.addColumn('string', 'ToolTip');
      var your_generated_table = JSON.parse(levels);
      // For each orgchart box, provide the name, manager, and tooltip to show.
      data.addRows(your_generated_table);

      // Create the chart.
      var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));
      // Draw the chart, setting the allowHtml option to true for the tooltips.
      chart.draw(data, { 'allowHtml': true });
    }
  </script>
{% endblock %}